# 🌸 AnimeHome - 二次元 AI 角色陪伴应用设计方案

## 1. 产品愿景 (Product Vision)
打造一个**高自定义度**、**视觉沉浸**的 AI 角色容器。用户不仅可以与现有的二次元角色聊天，更可以通过精细的提示词（Prompt）工程，“捏”出自己心目中的完美角色（Waifu/Husbando）。

## 2. 核心功能模块 (Core Features)

### A. 角色工坊 (Character Studio) - *核心创造模块*
这是用户定义角色的地方，界面风格应该像游戏中的“角色卡”界面。
*   **基础设定**: 头像上传（支持自动裁剪圆角/六边形）、角色名称、称呼（用户昵称）。
*   **人设引擎 (Prompt Engine)**:
    *   **身份设定 (System Prompt)**: 也就是“核心指令”，例如：“你是一个傲娇的魔法少女，喜欢吃甜食，说话带‘哼’”。
    *   **性格标签 (Tags)**: 提供快捷标签（如：傲娇、三无、病娇、元气），点击自动注入提示词。
    *   **开场白 (First Message)**: 定义对话的第一句，确立场景（例如：“喂，庶民，给我倒杯茶来！”）。
    *   **示例对话 (Few-Shot Examples)**: 允许用户输入 3-5 组问答范例，让 AI 更好地模仿语气。

### B. 沉浸式聊天室 (Immersive Chat)
区别于普通的 ChatGPT 界面，这里要追求 AVG (文字冒险游戏) 的感觉。
*   **动态背景**: 支持为每个角色设置不同的背景图（教室、卧室、异世界）。
*   **气泡样式**: 漫画风格的对话气泡，区分“心理活动”（圆点引线）和“语言”（实线引线）。
*   **视觉反馈**: (进阶功能) 根据情感分析改变界面色调或立绘表情。

### C. 记忆与上下文 (Memory & Context)
*   **短期记忆**: 正常的对话上下文。
*   **长期记忆簿**: 用户可以手动“固定”某些重要事实（例如：“即使过了很久，你也记得我的生日是10月10日”）。

## 3. 前端 UI/UX 设计风格 (Design Language)

*   **色调**: 柔和的莫兰迪色系或明亮的多巴胺色系（根据角色性格切换主题）。
*   **字体**: 使用圆体或手写体风格，增加亲和力。
*   **交互**:
    *   点击按钮时要有 Q 弹的动画效果 (Bouncy animations)。
    *   加载时使用二次元相关的 Loading 图标（如旋转的魔法阵或跳动的史莱姆）。
*   **Glassmorphism (毛玻璃)**: 对话框和侧边栏采用半透明磨砂效果，透出背景图。

## 4. 技术栈 (Tech Stack)

*   **框架**: **Next.js 14 (App Router)** - React 领域的首选，利于 SEO 和全栈开发。
*   **语言**: **TypeScript** - 保证代码健壮性。
*   **样式**: **Tailwind CSS** - 快速构建 UI。
*   **组件库**: **Shadcn/ui** (高度可定制) + **Framer Motion** (处理丝滑的二次元动画效果)。
*   **AI 接入**: **Vercel AI SDK** - 能够轻松流式传输 (Streaming) 多个 LLM 模型 (OpenAI, Anthropic, 或本地模型)。
*   **状态管理**: **Zustand** - 轻量级管理角色列表和聊天记录。
*   **存储 (本地版)**: **IndexedDB (Dexie.js)** - 暂时将数据保存在浏览器本地，保护隐私且无需后端即可启动。
